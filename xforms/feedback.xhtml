<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xforms="http://www.w3.org/2002/xforms" xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xxforms="http://orbeon.org/oxf/xml/xforms" xmlns:fr="http://orbeon.org/oxf/xml/form-runner"
	xmlns:xi="http://www.w3.org/2001/XInclude">
	<head>
		<title>Numishare: Feedback</title>
		<link rel="stylesheet" href="/fr/style/bootstrap/css/bootstrap.css" type="text/css" />
		<link rel="stylesheet" href="/fr/style/form-runner-bootstrap-override.css" type="text/css" />

		<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
		<script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		<link rel="shortcut icon" href="/ops/images/orbeon-icon-16.ico" />
		<link rel="icon" href="/ops/images/orbeon-icon-16.png" type="image/png" />
		<link rel="stylesheet" href="/apps/numishare/xforms/css/xforms.css" />
		<link rel="stylesheet" href="/apps/numishare/ui/css/style.css" />

		<!-- model -->
		<xforms:model>
			<xforms:instance id="control-instance" xxforms:exclude-result-prefixes="#all">
				<controls xmlns="">
					<status></status>
					<collection-name></collection-name>
					<public-key></public-key>
					<private-key></private-key>
				</controls>
			</xforms:instance>

			<xforms:instance id="feedback" xxforms:exclude-result-prefixes="#all">
				<feedback xmlns="">
					<name></name>
					<email></email>
					<text></text>
				</feedback>
			</xforms:instance>

			<xforms:instance id="config" xxforms:exclude-result-prefixes="#all">
				<config xmlns=""></config>
			</xforms:instance>

			<!-- null element for call-xpl -->
			<xforms:instance id="dump">
				<dump xmlns=""></dump>
			</xforms:instance>
			
			<!-- ************* BINDINGS **********************-->
			<xforms:bind nodeset="instance('feedback')">
				<xforms:bind nodeset="*" required="true()"/>
			</xforms:bind>

			<!-- ************* SUBMISSIONS **********************-->


			<!-- **************** MODEL-CONSTRUCT-DONE ********************** -->
			<xforms:action ev:event="xforms-model-construct-done">
				<!-- load the config -->
				<xforms:insert context="instance('config')" 
					origin="xxforms:call-xpl('oxforms:/apps/numishare/xpl/models/config.xpl', 'dump', instance('dump'), 'data')"/>
			</xforms:action>
		</xforms:model>
	</head>

	<body>
		<xforms:var name="display_path">../</xforms:var>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">


					<xforms:group ref="instance('feedback')">
						<div>
							<h1>Feedback</h1>
							<p>Instructions here.</p>
							<div>
								<xforms:input ref="instance('feedback')/name">
									<xforms:label>Name</xforms:label>
									<xforms:alert>Required</xforms:alert>
								</xforms:input>
							</div>
							<div>
								<xforms:input ref="instance('feedback')/email">
									<xforms:label>Email Address</xforms:label>
									<xforms:alert>Must conform to a valid email address</xforms:alert>
								</xforms:input>
							</div>
							<div>
								<xforms:textarea ref="instance('feedback')/text">
									<xforms:label>Feedback</xforms:label>
									<xforms:alert>Required</xforms:alert>
								</xforms:textarea>
							</div>
						</div>
					</xforms:group>

					<fr:simple-captcha id="simple-captcha">
						<xforms:message level="modal" ev:event="fr-verify-done">Verified</xforms:message>
						
						<xforms:action ev:event="fr-verify-error">
							<xforms:message level="modal">Error</xforms:message>
						</xforms:action>						
					</fr:simple-captcha>
					
					<div>
						<xforms:trigger>
							<xforms:label>Send</xforms:label>
							<xforms:dispatch target="simple-captcha" name="fr-verify" ev:event="DOMActivate"/>
						</xforms:trigger>
					</div>

					<!--<fr:recaptcha id="my-recaptcha">
						<xforms:message level="modal" ev:event="fr-verify-done">Verified</xforms:message>
						<xforms:action ev:event="fr-verify-error">
							<xforms:message level="modal">Error</xforms:message>
						</xforms:action>
					</fr:recaptcha>-->
					<fr:xforms-inspector/>
				</div>
			</div>
		</div>
	</body>
</html>
